<!DOCTYPE html>
<html lang="en">
<head>
  <title>Mahir Labib Dihan</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/css/index.css">
  <link rel="stylesheet" href="/assets/css/blogList.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
  <script type="module" src="/assets/js/firebase.js"></script>
  <script type="module">
      import {db} from '/assets/js/firebase.js'

      const blogList = document.querySelector(".blogList");
    //   document.getElementById("blog-add-button").addEventListener("click", addBlog);
        
      function removeAllChildNodes(parent) {
            while (parent.firstChild) {
                parent.removeChild(parent.firstChild);
            }
        }
      function updateList(){
        removeAllChildNodes(blogList);
        db.collection("c_blogs").get().then((snapshot)=>{
            snapshot.docs.forEach(doc=>{
                let a = document.createElement('a');
                a.href = "codes/"+doc.data().url;
                var link = document.createTextNode(doc.data().name); 
                a.appendChild(link);   
                blogList.appendChild(a);
            });
        });
      }
        
        
        function addBlog(){
            let Name = document.querySelector(".blog-name-input").value;
            let Url = document.querySelector(".blog-url-input").value;
            db.collection("c_blogs").doc(Name).set(
                {
                    name: Name,
                    url: Url
                }
            );
            let a = document.createElement('a');
                a.href = "codes/"+Url;
                var link = document.createTextNode(Name); 
                a.appendChild(link);   
                blogList.appendChild(a);
        }

        updateList();
        
  </script>
</head>
<body>
    <div class="container">
        <div class="nav-bar">
            <div class="nav-button" onclick="toggle()">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
            <ul  class="nav-bar-left">
                <li class="nav-bar-link">
                    <a href="/">HOME</a>
                </li>
                
                <li class="nav-bar-link">
                    <a href="/work">WORK</a>
                </li>
                <li class="nav-bar-link   active-nav-link">
                    <a href="/blog">BLOG</a>
                </li>
                <li class="nav-bar-link">
                    <a href="/about">ABOUT</a>
                </li>
                <li class="nav-bar-link">
                    <a href="/contact">CONTACT</a>
                </li>
                
            </ul>
            <div class="nav-bar-right">
                <div class="nav-bar-name"><a href="https://mahirlabibdihan.github.io">MAHIR LABIB DIHAN</a></div>
            </div>
        </div>

        <div class="blogList">
        </div>
        <!-- <div class="add-blog">
            <input type="text" placeholder="NAME" class="blog-name-input">
            <input type="text" placeholder="URL" class="blog-url-input">
            <button id="blog-add-button" class="blog-add-button">ADD</button>
        </div> -->
    </div>
    <script src="/assets/js/index.js"> </script>
</body>
<footer class="footer">
    <ul class="social-icons-list">
        <li class="social-icon"><a href="https://twitter.com/mahirlabibdihan" class="fa fa-twitter"></a></li>
        <li class="social-icon"><a href="https://www.facebook.com/mahirlabibdihan/" class="fa fa-facebook"></a></li>
        <li class="social-icon"><a href="https://www.linkedin.com/in/mahirlabibdihan/" class="fa fa-linkedin"></a></li>
        <li class="social-icon"><a href="https://www.instagram.com/di_huu/" class="fa fa-instagram"></a></li>
        <li class="social-icon"><a href="https://github.com/mahirlabibdihan" class="fa fa-github"></a></li>
        <li class="social-icon"><a href="mailto:mahirlabibdihan@gmail.com" class="fa fa-envelope"></a></li>
    </ul>
    <h4 class="copyright">
        &copy; Mahir Labib Dihan All rights reserved
    </h1>
</footer>
</html>
